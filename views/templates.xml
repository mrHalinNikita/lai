<odoo>
    <template id="lai_calculator_page" name="LAI Calculator Page">
        <t t-call="website.layout">
            <div class="container mt-5">
                <h2>üåø LAI Estimator ‚Äî Central Black Soil Region</h2>
                <p>Upload an RGB image of your field to estimate Leaf Area Index.</p>

                <form action="/lai-calculate" method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="image" class="form-label">Upload Field Photo</label>
                        <input type="file" class="form-control" name="image" accept="image/*" required="1"/>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Crop Type</label>
                        <div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="crop_type" id="wheat" value="wheat" checked="checked"/>
                                <label class="form-check-label" for="wheat">Wheat</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="crop_type" id="corn" value="corn"/>
                                <label class="form-check-label" for="corn">Corn</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="crop_type" id="sunflower" value="sunflower"/>
                                <label class="form-check-label" for="sunflower">Sunflower</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="crop_type" id="mixed" value="mixed"/>
                                <label class="form-check-label" for="mixed">Mixed</label>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary">üîç Calculate LAI</button>
                </form>

                <t t-if="request and request.params.get('error')">
                    <div class="alert alert-danger mt-3">
                        <strong>Error:</strong> <t t-esc="request.params.get('error')"/>
                    </div>
                </t>
            </div>
        </t>
    </template>

    <template id="lai_result_page" name="LAI Result Page">
        <t t-call="website.layout">
            <div class="container mt-5">
                <h2>üìä LAI Calculation Result</h2>

                <div class="row mb-4">
                    <div class="col-md-6">
                        <h4>Average LAI: <span t-esc="calc.lai_avg"/></h4>
                        <p>Crop: <span t-esc="dict(calc._fields['crop_type'].selection).get(calc.crop_type)"/></p>
                        <p>Calculated on: <span t-esc="calc.date_calculated" t-options="{'widget': 'datetime'}"/></p>
                    </div>
                    <div class="col-md-6 text-end">
                        <a t-att-href="'/web/content?model=lai.calculation&amp;field=lai_heatmap&amp;id=' + str(calc.id) + '&amp;download=true&amp;filename=' + (calc.lai_heatmap_filename or 'lai_heatmap.png')"
                        class="btn btn-success">
                            ‚¨áÔ∏è Download Heatmap
                        </a>
                    </div>
                </div>

                <!-- Original Image -->
                <div class="row mb-4">
                    <div class="col-12">
                        <h5>üì∑ Original Image</h5>
                        <img t-att-src="'/web/image?model=lai.calculation&amp;field=image&amp;id=' + str(calc.id)"
                            class="img-fluid border rounded"
                            style="max-height: 400px; object-fit: contain;"
                            alt="Original Field Photo"/>
                    </div>
                </div>

                <!-- Heatmap -->
                <div class="row">
                    <div class="col-12">
                        <h5>üé® LAI Heatmap</h5>
                        <img t-att-src="'/web/image?model=lai.calculation&amp;field=lai_heatmap&amp;id=' + str(calc.id)"
                            class="img-fluid border rounded"
                            style="max-height: 400px; object-fit: contain;"
                            alt="LAI Heatmap"/>
                    </div>
                </div>

                <div class="mt-4">
                    <a href="/lai-calculator" class="btn btn-secondary">‚Üê Back to Calculator</a>
                </div>
            </div>
        </t>
    </template>
</odoo>